<app-navbar></app-navbar>


<div class="container">
    <h1>Liste des utlisateurs</h1>
    <div *ngIf="userList.length>0;then users else noUsers"></div>

    <ng-template #users>
        <table class="table table-striped table-hover">
            <thead>
                <tr>
                    <th>#</th>
                    <th>firstName</th>
                    <th>lastName</th>
                    <th>phone</th>
                    <th>email</th>
                    <th>status</th>
                    <th></th>
                </tr>

            </thead>

            <tbody>
                <tr *ngFor="let user of userList;let i =index"
                    [ngClass]="{'text-success':user.etat==1,'text-danger':user.etat==0}">
                    <td>{{i}}</td>
                    <td>{{user.firstname}}</td>
                    <td>{{user.lastname}}</td>
                    <td>{{user.phone}}</td>
                    <td>{{user.email}}</td>
                    <td>
                        <!-- <button *ngIf="user.etat==0" class="btn btn-success"
                            (click)="activateUser(i,user._id)">activé</button>
                        <button *ngIf="user.etat==1" class="btn btn-danger"
                            (click)="desactivateUser(i,user._id)">désactivé</button>
                        &nbsp;&nbsp;&nbsp;-->
                        <button [ngClass]="{'btn-success':user.etat==0,'btn-danger':user.etat==1}" class="btn"
                            (click)="changeState(i,user._id,user.etat)" style="width:100px;"> {{ user.etat == 1 ? 'desactiver' : 'activer' }}</button>
                    </td>
                    <td>
                        <button class="btn btn-danger" (click)="removeUser(i,user._id)"><i
                                class="fa fa-trash"></i></button>
                    </td>
                </tr>

            </tbody>

        </table>
    </ng-template>

    <ng-template #noUsers>
        <div class="alert alert-warning">
            Aucun utlisateur trouvé
        </div>
    </ng-template>


</div>

<app-footer></app-footer>